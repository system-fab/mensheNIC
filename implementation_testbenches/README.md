# Implementation testbenches
In this folder there are the testbenches used to validate the correctness of the NIC behaviour using some functional tests, together with the scripts within the *testing_scripts* folder used to validate the latency introduced by the overall SmartNIC.<br />
The "python_converter" script was used to create the configuration packets based on the bitstream [generated by the P4 compiler](/p4s).<br />
Within the "*_testbench.txt" files there are the python commands used to send the configuration packets to the NIC together with some test packets used to validate the correctly applied changes.<br />
The configuration and test packets are the same as the one used in the simulation tests and readapted for an after deployment scenarion. 

## Latency test
The latency introduced by the pipeline can be calculated in simulation, testing the pipeline's module as is.
The results can be validated running the empirical test under the folder ["testing_scripts"](testing_scripts), which repeats an upd ping and calculate the RTT. By subtracting the RTT of the openNIC shell without any pipeline and dividing the value by 2 the results shown by the empirical test are almost equal to the one shown by the siulation tests.
![](/resources/UDP_ping_test.png)
